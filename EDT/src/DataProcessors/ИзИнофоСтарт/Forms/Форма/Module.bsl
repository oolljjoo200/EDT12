&НаКлиенте
Процедура ЗагрузитьИзXML(Команда)
    ИмяФайла = "C:\Users\user\Desktop\xml.xml";
    ЗагрузитьИзXMLНаСервере(ИмяФайла);
КонецПроцедуры

&НаСервере
Процедура ЗагрузитьИзXMLНаСервере(ИмяФайла)
    Чтение = Новый ЧтениеXML;
    Чтение.ОткрытьФайл(ИмяФайла);
    
    Товары = ПрочитатьТоварыИзXML(Чтение);
    
    ЗаполнитьТаблицуТоваров(Товары);
    
    Чтение.Закрыть();
КонецПроцедуры

&НаСервере
Функция ПрочитатьТоварыИзXML(Чтение)
    Товары = Новый Массив;
    
    Попытка
        Пока Чтение.Прочитать() Цикл
            Если Чтение.ТипУзла = ТипУзлаXML.НачалоЭлемента И Чтение.Имя = "товар" Тогда
                ТекущийТовар = Новый Структура;
                
                Пока Чтение.Прочитать() И Чтение.ТипУзла <> ТипУзлаXML.КонецЭлемента Цикл
                    Если Чтение.ТипУзла = ТипУзлаXML.НачалоЭлемента Тогда
                        ИмяСвойства = Чтение.Имя;
                        ЗначениеСвойства = ПрочитатьЗначениеЭлемента(Чтение);
                        
                        ТекущийТовар.Вставить(ИмяСвойства, ЗначениеСвойства);
                    КонецЕсли;
                КонецЦикла;
                
                Товары.Добавить(ТекущийТовар);
            КонецЕсли;
        КонецЦикла;
    Исключение
        Сообщить("Ошибка при чтении файла: " + ОписаниеОшибки());
    КонецПопытки;
    
    Возврат Товары;
КонецФункции

&НаСервере
Функция ПрочитатьЗначениеЭлемента(Чтение)
    Значение = "";
    
    Пока Чтение.Прочитать() Цикл
        Если Чтение.ТипУзла = ТипУзлаXML.Текст Тогда
            Значение = Значение + Чтение.Значение;
        ИначеЕсли Чтение.ТипУзла = ТипУзлаXML.КонецЭлемента Тогда
            Прервать;
        КонецЕсли;
    КонецЦикла;
    
    Возврат СокрЛП(Значение);
КонецФункции

&НаСервере
Процедура ЗаполнитьТаблицуТоваров(Товары)
    ТабличныйДокумент.Очистить();
    
    Если Товары.Количество() = 0 Тогда
        Возврат;
    КонецЕсли;
    
    // Создаем шапку таблицы
    КоличествоКолонок = Товары[0].Количество();
    ОбластьЗаголовка = ТабличныйДокумент.ПолучитьОбласть(1, 1, 1, КоличествоКолонок);
    
    // Заполняем заголовки столбцов
    НомерКолонки = 1;
    Для Каждого КлючИЗначение Из Товары[0] Цикл
        ОбластьЗаголовка.Область(1, НомерКолонки).Текст = КлючИЗначение.Ключ;
        НомерКолонки = НомерКолонки + 1;
    КонецЦикла;
    
    ТабличныйДокумент.Вывести(ОбластьЗаголовка);
    
    // Заполняем данные
    Для Каждого Товар Из Товары Цикл
        ОбластьДанных = ТабличныйДокумент.ПолучитьОбласть(2, 1, 2, КоличествоКолонок);
        НомерКолонки = 1;
        Для Каждого КлючИЗначение Из Товар Цикл
            ОбластьДанных.Область(1, НомерКолонки).Текст = КлючИЗначение.Значение;
            НомерКолонки = НомерКолонки + 1;
        КонецЦикла;
        ТабличныйДокумент.Вывести(ОбластьДанных);
    КонецЦикла;
    
    // Устанавливаем свойства таблицы
    ТабличныйДокумент.Защита = Ложь;
    ТабличныйДокумент.ТолькоПросмотр = Истина;
    ТабличныйДокумент.ФиксацияСверху = 1;
    ТабличныйДокумент.ФиксацияСлева = 1;
КонецПроцедуры